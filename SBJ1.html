<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>社内プロジェクト一覧</title>
  <link rel="stylesheet" href="style1.css">
</head>
<body>
  <!-- ヘッダー -->
  <header>
    <h1>SBJ</h1>
    <nav>
      <a href="index.html">ホーム</a>
      <a href="MCCM1.html">MCCM</a>
      <a href="JFA1.html">JFA</a>
      <a href="eigyou1.html">新規営業</a>
      <a href="conect1.html">マッチ</a>
    </nav>
  </header>

  <!-- SBJ相関図 -->
  <div class="sbj-card">
        <h2>JFA相関図</h2>
        <img src="images/SBJsoukan.jpg">
    </div>

    <!-- 条件検索 -->
    <section class="search-section">
        <h2>条件を選んで検索</h2>
        <div id="filters" class="filters"></div>

        <div class="buttons">
            <button onclick="search()" class="btn">検索</button>
            <button onclick="resetFilters()" class="btn reset">リセット</button>
        </div>

        <div id="results" class="results"></div>
    </section>



  <!-- 検索ロジック -->
  <script>
    const data = [
      { name: "山田太郎", club: "サッカー", hometown: "東京" },
      { name: "佐藤花子", club: "バスケ", hometown: "大阪" },
      { name: "鈴木一郎", club: "野球", hometown: "名古屋" },
      { name: "高橋陽子", club: "サッカー", hometown: "大阪" }
    ];

    const categories = {
      club: ["サッカー", "バスケ", "野球"],
      hometown: ["東京", "大阪", "名古屋"]
    };

    const filterDiv = document.getElementById("filters");
    for (let category in categories) {
      const group = document.createElement("div");
      group.innerHTML = `<strong>${category}</strong><br>`;
      categories[category].forEach(option => {
        group.innerHTML += `
          <label>
            <input type="checkbox" name="${category}" value="${option}">
            ${option}
          </label>
        `;
      });
      filterDiv.appendChild(group);
    }

    function search() {
      const selected = {};
      for (let category in categories) {
        const checked = Array.from(document.querySelectorAll(`input[name="${category}"]:checked`))
          .map(cb => cb.value);
        if (checked.length > 0) {
          selected[category] = checked;
        }
      }

      let results = data.filter(person => {
        return Object.keys(selected).every(category => {
          return selected[category].includes(person[category]);
        });
      });

      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";
      if (results.length === 0) {
        resultsDiv.innerHTML = "<p>該当なし</p>";
      } else {
        let html = "<table><tr><th>名前</th><th>部活</th><th>出身地</th></tr>";
        results.forEach(p => {
          html += `<tr><td>${p.name}</td><td>${p.club}</td><td>${p.hometown}</td></tr>`;
        });
        html += "</table>";
        resultsDiv.innerHTML = html;
      }
    }

    function resetFilters() {
      document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
      document.getElementById("results").innerHTML = "";
    }
  </script>
</body>

</html>