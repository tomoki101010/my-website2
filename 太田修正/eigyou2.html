<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>新規営業</title>
    <link rel="stylesheet" href="style1 (1).css">
</head>

<body>
    <!-- ヘッダー -->
    <header>
        <h1>新規営業</h1>
        <nav>
            <a href="index.html">ホーム</a>
            <a href="SBJ1.html">SBJ</a>
            <a href="MCCM1.html">MCCM</a>
            <a href="JFA1.html">JFA</a>
            <a href="conect1.html">マッチ</a>
        </nav>
    </header>

    <!-- 新規営業相関図 -->
    <div class="container">
        <h2>新規営業相関図</h2>
        <div class="card-grid" id="projectList">
            <div class="card">
                <img src="images/eigyou.png">
            </div>
        </div>
    </div>

    <!-- 条件検索 -->
    <div class="container">
        <h2>条件を選んで検索</h2>
        <div id="filters" class="filters"></div>

        <div class="buttons">
            <button onclick="search()" class="btn">検索</button>
            <button onclick="resetFilters()" class="btn reset">リセット</button>
        </div>

        <div id="results" class="results"></div>
    </div>

    <script>
        // サンプルデータ
        const data = [
            {
                name: "中原敬之",
                club: "バスケ",
                hometown: "東京都",
                hobby: ["スノボ", "サーフィン"],
                work: "新規営業",
                food: "寿司",
                mbti: "ENFP",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            },

            {
                name: "柳田康汰",
                club: "学生祭実行委員",
                hometown: "大阪府",
                hobby: "映画",
                work: ["新規営業", "新規事業立ち上げ"],
                food: "ラーメン",
                mbti: "ENFP",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            },

            {
                name: "黒籔華代",
                club: "バスケ",
                hometown: "岡山県",
                hobby: "旅行",
                work: "新規営業",
                food: "お酒に合うおつまみ",
                mbti: "ESFP",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            },

            {
                name: "白石太郎",
                club: ["サッカー", "硬式テニス"],
                hometown: "新潟県",
                hobby: ["ドライブ", "部屋づくり", "ゴルフ"],
                work: "新規営業",
                food: ["焼肉", "寿司", "ラーメン"],
                mbti: "ENFJ",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            },

            {
                name: "宮原啓一郎",
                club: ["サッカー", "ラクロス"],
                hometown: "岩手県",
                hobby: "サッカー観戦",
                work: "新規営業",
                food: "辛いもの",
                mbti: "INFP",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            },

            {
                name: "岡部椋太",
                club: "ソフトテニス",
                hometown: "東京都",
                hobby: "サウナ",
                work: "新規営業",
                food: "ココスのビーフハンバーグステーキ",
                mbti: "ESFP",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            },

            {
                name: "太田陽介",
                club: "バスケ",
                hometown: "大阪府",
                hobby: "サッカー観戦",
                work: "新規営業",
                food: "すき焼き",
                mbti: "ESFP",
                department: "リテペイ事業部 リテペイ企画営業部 新規営業"
            }
        ];

        // チェックボックス用カテゴリ
        const categories = {
            club: ["バスケ", "学生祭実行委員", "サッカー", "硬式テニス", "ラクロス", "ソフトテニス"],
            hometown: ["東京都", "大阪府", "岡山県", "新潟県", "岩手県"],
            hobby: ["スノボ", "サーフィン", "映画", "旅行", "ドライブ", "部屋づくり", "ゴルフ", "サッカー観戦", "サウナ"],
            work:["新規営業", "新規事業立ち上げ"],
            food: ["寿司", "ラーメン", "お酒に合うおつまみ", "焼肉", "辛いもの", "ココスのビーフハンバーグステーキ", "すき焼き"],
            mbti: ["ENFP", "ESFP", "ENFJ", "INFP"],
        };

        // チェックボックスを生成
        const filterDiv = document.getElementById("filters");
        for (let category in categories) {
            const group = document.createElement("div");
            group.innerHTML = `<strong>${category}</strong><br>`;
            categories[category].forEach(option => {
                const id = `${category}_${option}`;
                group.innerHTML += `
                    <label>
                        <input type="checkbox" name="${category}" value="${option}">
                        ${option}
                    </label>
                `;
            });
            filterDiv.appendChild(group);
        }

        // 検索処理
        function search() {
            const selected = {};
            for (let category in categories) {
                const checked = Array.from(document.querySelectorAll(`input[name="${category}"]:checked`))
                    .map(cb => cb.value);
                if (checked.length > 0) {
                    selected[category] = checked;
                }
            }

            let results = data.filter(person => {
                return Object.keys(selected).every(category => {
                    return selected[category].includes(person[category]);
                });
            });

            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = "";
            if (results.length === 0) {
                resultsDiv.innerHTML = "<p>該当なし</p>";
            } else {
                let html = "<table><tr><th>名前</th><th>部署</th></tr>";
                results.forEach(p => {
                    html += `<tr><td>${p.name}</td><td>${p.department}</td></tr>`;
                });
                html += "</table>";
                resultsDiv.innerHTML = html;
            }
        }

        // リセット処理
        function resetFilters() {
            // チェックを全部外す
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            // 結果エリアをクリア
            document.getElementById("results").innerHTML = "";
        }
    </script>