<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>社内プロジェクト一覧</title>
    <link rel="stylesheet" href="style1 (1).css">
</head>

<body>
    <!-- ヘッダー -->
    <header>
        <h1>MCCM</h1>
        <nav>
            <a href="index.html">ホーム</a>
            <a href="SBJ1.html">SBJ</a>
            <a href="JFA1.html">JFA</a>
            <a href="eigyou1.html">新規営業</a>
            <a href="conect1.html">マッチ</a>
        </nav>
    </header>

    <!-- MCCM相関図 -->
    <div class="sbj-card">
        <h2>MCCM相関図</h2>
        <img src="images/MCCMsoukan.jpg">
    </div>

    <!-- 条件検索 -->
    <section class="search-section">
        <h2>条件を選んで検索</h2>
        <div id="filters" class="filters"></div>

        <div class="buttons">
            <button onclick="search()" class="btn">検索</button>
            <button onclick="resetFilters()" class="btn reset">リセット</button>
        </div>

        <div id="results" class="results"></div>
    </section>

    <script>
        // サンプルデータ
        const data = [
            {
                name: "高橋慶多",
                club: "バスケ",
                hometown: "新潟県",
                hobby: ["バスケ", "サウナ", "飲み", "筋トレ"],
                work: ["社内LAN担当業務", "資料インプット", "暇"],
                food: ["ラーメン", "納豆", "ブロッコリー"],
                mbti: "ENFP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "渡邊忠義",
                club: ["硬式テニス", "スキー"],
                hometown: "東京都",
                hobby: ["ショッピング", "お出かけ", "映画", "ゴルフ"],
                work: ["運用保守", "新規案件"],
                food: ["肉", "刺身"],
                mbti: "ESFP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "塩澤優希",
                club: ["テニス", "バスケ", "野球", "バレー"],
                hometown: "東京都",
                hobby: "ゲーム",
                work: "要件定義",
                food: "寿司",
                mbti: "ISFP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "佐々木大貴",
                club: "帰宅",
                hometown: "神奈川県",
                hobby: "映画",
                work: "仕様変更設計",
                food: "なし",
                mbti: "不明",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "穂谷野真央",
                club: ["バスケ", "バドミントン", "バンド"],
                hometown: "千葉県",
                hobby: ["キャンプ", "おいしいもの食べる", "登山"],
                work: "仕様変更設計",
                food: ["魚", "牡蠣", "納豆"],
                mbti: "ISFP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "島谷有紀",
                club: "ソフトテニス",
                hometown: "神奈川県",
                hobby: ["自然", "カメラ", "カフェ", "ごはん屋さん巡り"],
                work: ["運用保守", "開発"],
                food: ["麻婆豆腐", "トマト"],
                mbti: "INFP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "近藤靖文",
                club: "バレー",
                hometown: "徳島県",
                hobby: "ボードゲーム",
                work: "SRE",
                food: "梨",
                mbti: "INTP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "小川博史",
                club: "バスケ",
                hometown: "静岡県",
                hobby: ["バスケ", "ギャンブル"],
                work: ["開発", "運用保守"],
                food: "卵",
                mbti: "不明",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "山本孝範",
                club: ["野球", "社交ダンス"],
                hometown: "埼玉県",
                hobby: "ランニング",
                work: "開発",
                food: "カレー",
                mbti: "不明",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "谷津ほの香",
                club: "フットサル",
                hometown: "東京都",
                hobby: ["ゴルフ", "サッカー"],
                work: ["仕様変更の設計", "開発"],
                food: "寿司",
                mbti: "ENFP",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            },

            {
                name: "中村知樹",
                club: "陸上",
                hometown: "埼玉県",
                hobby: ["おいしいもの食べる", "サッカー"],
                work: "新人",
                food: ["寿司", "梨"],
                mbti: "ESFJ",
                department: "リテペイ事業部 リテールソリ部 MCCM"
            }
        ];

        // チェックボックス用カテゴリ
        const categories = {
            club: ["バスケ", "硬式テニス", "スキー", "野球", "バレー", "帰宅", "バドミントン", "バンド", "ソフトテニス", "社交ダンス", "フットサル", "陸上"],
            hometown: ["新潟県", "東京都", "神奈川県", "千葉県", "徳島県", "静岡県", "埼玉県"],
            hobby: ["バスケ", "サウナ", "飲み", "筋トレ", "ショッピング", "お出かけ", "映画", "ゴルフ", "ゲーム", "キャンプ", "おいしいもの食べる", "登山", "自然", "カメラ", "カフェ", "ごはん屋さん巡り", "ボードゲーム", "ギャンブル", "ランニング", "サッカー"],
            work: ["社内LAN担当業務", "資料インプット", "暇", "運用保守", "新規案件", "要件定義", "仕様変更設計", "開発", "SRE", "新人"],
            food: ["ラーメン", "納豆", "ブロッコリー", "肉", "刺身", "寿司", "なし", "魚", "牡蠣", "麻婆豆腐", "トマト", "梨", "卵", "カレー"],
            mbti: ["ENFP", "ESFP", "ISFP", "不明", "INFP", "INTP", "INTP", "ESFJ"]
        };

        // チェックボックスを生成
        const filterDiv = document.getElementById("filters");
        for (let category in categories) {
            const group = document.createElement("div");
            group.innerHTML = `<strong>${category}</strong><br>`;
            categories[category].forEach(option => {
                const id = `${category}_${option}`;
                group.innerHTML += `
                    <label>
                        <input type="checkbox" name="${category}" value="${option}">
                        ${option}
                    </label>
                `;
            });
            filterDiv.appendChild(group);
        }

        // 検索処理
        function search() {
            const selected = {};
            for (let category in categories) {
                const checked = Array.from(document.querySelectorAll(`input[name="${category}"]:checked`))
                    .map(cb => cb.value);
                if (checked.length > 0) {
                    selected[category] = checked;
                }
            }

            let results = data.filter(person => {
                return Object.keys(selected).every(category => {
                    return selected[category].includes(person[category]);
                });
            });

            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = "";
            if (results.length === 0) {
                resultsDiv.innerHTML = "<p>該当なし</p>";
            } else {
                let html = "<table><tr><th>名前</th><th>部署</th></tr>";
                results.forEach(p => {
                    html += `<tr><td>${p.name}</td><td>${p.department}</td></tr>`;
                });
                html += "</table>";
                resultsDiv.innerHTML = html;
            }
        }

        // リセット処理
        function resetFilters() {
            // チェックを全部外す
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            // 結果エリアをクリア
            document.getElementById("results").innerHTML = "";
        }

    </script>